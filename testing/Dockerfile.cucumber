FROM ruby:2.6

# Needed for ./bin/docker/waiter and `wait-for-it` CLI for waiting for server to launch
RUN apt update -y && apt install jq wait-for-it -y && apt clean

RUN gem install bundler -v '2.1.4'

WORKDIR /app

COPY Gemfile Gemfile.lock /app/

RUN bundle install

RUN mkdir -p /app

COPY . /app
