import { Story, Preview } from '@storybook/addon-docs/blocks';

# Inputs

Use this component when you want to collect textual or numerical data from a user that is not more than a single line.

<Preview>
  <Story id="forms-input--input" />
</Preview>

Use hint text for help that’s relevant to the majority of users, based on the needs of your service.

<Preview>
  <Story id="forms-input--with-hint" />
</Preview>

<Preview>
  <Story id="forms-input--optional" />
</Preview>

### Variants: Fixed widths

Help users understand the purpose of the input by making the input size appropriate for the content it’s intended for.

<Preview>
  <Story id="forms-input--fixed-widths" />
</Preview>

### With error messages

Error messages are used to highlight where users need to change information. They’re used together with an [error summary](/design-system/styleguide/forms/components-error-summary--page?path=/docs/forms-error-summary--example)

<Preview>
  <Story id="forms-input--with-error" />
</Preview>

### Additional attributes (View Component Only)

<Preview>
  <Story id="forms-input--type" />
</Preview>

### Types (View Component Only)

<Preview>
  <Story id="forms-input--attributes" />
</Preview>

## Implementation

You must always have a `label` associated with the input element.

Use the correct input `type` so the purpose of each input field can be determined.

When collecting information about a user, use the `autocomplete` attribute to help users complete forms more quickly.

[Read more about input purpose](https://www.w3.org/WAI/WCAG21/Understanding/identify-input-purpose.html) at WCAG 2.1.

> The following will need more research:
>
> - The affects of type=number and inputmode=numeric on assistive technologies?
> - Should we be able to group text inputs into fieldsets? Eg when capturing addresses?

## Using with Rails

We recommend you use the `TextInput` component for rendering text like `input` elements. Developing non-text like components (eg `file` and `date`) will be considered in the future. If you'd like to make a contribution in this area, please do!

If you are using the `citizens_advice_components` gem, you can call the component from within a template using:

```rb
= render(
  CitizensAdviceComponents::TextInput.new(
    name: "my-input",
    label: "Example input label",
    type: :text
  )
)
```

### View Component Options

| Property                       | Description                                                                                        |
| ------------------------------ | -------------------------------------------------------------------------------------------------- |
| `name`                         | Required, field name                                                                               |
| `label`                        | Required, the text for the label associated with the input                                         |
| `type`                         | Required, one of: `:email, :hidden, :number, :password, :search, :tel, :text, :url`                |
| `width`                        | Optional, one of: `:two_char, :four_char, :eight_char, :sixteen_char`                              |
| `options`                      | Optional, a hash with one or more of the following values:                                         |
| &rarr; `hint`                  | Optional, hint text for the input                                                                  |
| &rarr; `error_message`         | Optional, an error_message for the input                                                           |
| &rarr; `optional`              | Optional, boolean indicating the field is optional (ie not required)                               |
| &rarr; `value`                 | Optional, the value of the input                                                                   |
| &rarr; `additional_attributes` | Optional, a hash of additional attributes rendered onto the `input`, eg `{ autocomplete: "name" }` |

### Addtional `type` values

If you need access to inputs with additional type values, eg `file` or `color`, you can use the base `Input` view component instead. The interface is the same except you may not specifiy a `width` parameter.

## Haml template options

The Haml partial takes an `input` hash with the following properties:

| properties      | Description                                                               |
| --------------- | ------------------------------------------------------------------------- |
| `name`          | Required, field name                                                      |
| `label`         | Required, label text                                                      |
| `hint`          | Optional, hint text                                                       |
| `optional`      | Optional, boolean flag to mark the field as optional                      |
| `error_message` | Optional, error message for the field                                     |
| `has_error`     | Optional, boolean flag to mark the field as having an error               |
| `size`          | Optional, fixed character width size. One of: `2ch`, `4ch`, `8ch`, `16ch` |
| `value`         | Optional, field value                                                     |
