import { Story, Preview } from '@storybook/addon-docs/blocks';

# Radio groups

A radio allows a user to select only one option from a group of exclusive choices and it is usually displayed in a radio group.

## When to use

Use radios when a user can only select one option from a list of choices. The label for the radio buttons should be clear and concise.

## When not to use

Do not use radios if the user needs to select more than one option from a list of choices. Use a checkbox component instead (not yet developed).

## How it works

### Inline

<Preview>
  <Story id="forms-radio-group--inline" />
</Preview>

Use inline radios if there are only 2 options and the text is short.

### Stacked

<Preview>
  <Story id="forms-radio-group--basic" />
</Preview>

Use stacked radios if there are more than 2 options or the text is very long.

Use hint text for help that’s relevant to the majority of users, based on the needs of your service.

### With optional field marker

<Preview>
  <Story id="forms-radio-group--optional" />
</Preview>

### With error message

Error messages are used to highlight where users need to change information. They’re used together with an [error summary](/design-system/styleguide/forms/components-error-summary--page?path=/docs/forms-error-summary--example).

<Preview>
  <Story id="forms-radio-group--with-error" />
</Preview>

## Small radios

<Preview>
  <Story id="forms-radio-group--small" />
</Preview>

Use standard radios in almost all cases. Use small radios to make them less visually prominent or on pages with lots of dense information, such as caseworking software. Small radios can be stacked or inline.

## Implementation

You must always have a label associated with the input element.

The components we provide use wrap radio groups in a fieldset. In this context the 'label' is typically the fieldset legend, as every radio option is a label + input in its own right.

## Using with Rails

If you are using the `citizens_advice_components` gem, you can call the component from within a following the example below.

The radio buttons themselves can be defined using a simple hash, and passed into the `RadioGroup` component like this:

```rb
- my_radio_buttons = [
  { label: "Option 1", value: "1", checked: true },
  { label: "Option 2", value: "2" },
  { label: "Option 3", value: "3", "data-testid": "my-test-id" }
]

= render CitizensAdviceComponents::RadioGroup.new(
    label: "Example radio buttons",
    name: "radio-buttons"
  ) do |c|
    c.radio_buttons(my_radio_buttons)
  end
```

### Additional attributes (View component only)

Any additional key/value pairs (beyond `label` and `value`) in your radio button definition will be added to the input.

<Preview>
  <Story id="forms-radio-group--attributes" />
</Preview>

### View Component Options

| Property               | Description                                                             |
| ---------------------- | ----------------------------------------------------------------------- |
| `name`                 | Required, field name                                                    |
| `label`                | Required, the text for the label associated with the input              |
| `options`              | Optional, a hash with one or more of the following values:              |
| &rarr; `hint`          | Optional, hint text for the input                                       |
| &rarr; `error_message` | Optional, an error_message for the input                                |
| &rarr; `optional`      | Optional, boolean indicating the field is optional (ie not required)    |
| &rarr; `size`          | Optional, the size of the radio buttons. One of `nil, :small, :large`   |
| &rarr; `layout`        | Optional, the layout of the radio buttons. One of `nil, :inline, :list` |

## Haml template options

The Haml partial takes a `radio` hash with the following properties:

| properties        | Description                                                  |
| ----------------- | ------------------------------------------------------------ |
| `name`            | Required, field name                                         |
| `label`           | Required, label text                                         |
| `options`         | Reqiuired, an array of hashes, each with the following:      |
| `option[name]`    | &rarr; Required, name for the option                         |
| `option[value]`   | &rarr; Required, value for the option                        |
| `option[checked]` | &rarr; optional, true if the option is checked, false if not |
| `hint`            | Optional, hint text                                          |
| `optional`        | Optional, boolean flag to mark the field as optional         |
| `error_message`   | Optional, error message for the field                        |
| `has_error`       | Optional, boolean flag to mark the field as having an error  |
| `inline`          | Optional, boolean flag to display radio buttons inline       |
| `small`           | Optional, boolean flag to display radio in small style       |
