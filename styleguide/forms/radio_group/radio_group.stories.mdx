import { Meta, Story, Preview, Source } from '@storybook/addon-docs/blocks';
import { translate } from '../../../scripts/story-helpers';

import templateRadioGroup from './_radio_group.html.haml';
import templateRadioGroupWithHint from './_radio_group-with-hint.html.haml';
import templateRadioGroupOptional from './_radio_group-optional.html.haml';
import templateRadioGroupWithError from './_radio_group-with-error.html.haml';
import templateRadioGrougWithLongOptions from './_radio_group-long-options.html.haml';
import templateRadioGroupInline from './_radio_group_inline.html.haml';
import templateRadioGroupSmall from './_radio_group_small.html.haml';

<Meta title="Forms/Radio group" />

# Radio groups

A radio allows a user to select only one option from a group of exclusive choices and it is usually displayed in a radio group.

## When to use

Use radios when a user can only select one option from a list of choices. The label for the radio buttons should be clear and concise. 

## When not to use

Do not use radios if the user needs to select more than one option from a list of choices. Use a checkbox component instead (not yet developed). 

## Variants

Use inline radios if there are only 2 options and the text is short. 

<Preview>
  <Story
    name="Basic"
    parameters={{ docs: { source: { code: templateRadioGroup.raw } } }}
  >
    {(_, options) => translate(templateRadioGroup, options)}
  </Story>
</Preview>

Use stacked radio buttons if there are more than 2 options or the text is very long.

<Preview>
  <Story
    name="With long options"
    decorators={[(Story) => `<div style="max-width: 540px">${Story()}</div>`]}
    parameters={{
      docs: { source: { code: templateRadioGrougWithLongOptions.raw } },
    }}
  >
    {(_, options) => translate(templateRadioGrougWithLongOptions, options)}
  </Story>
</Preview>

Use hint text for help that’s relevant to the majority of users, based on the needs of your service.

<Preview>
  <Story
    name="With hint"
    parameters={{ docs: { source: { code: templateRadioGroupWithHint.raw } } }}
  >
    {(_, options) => translate(templateRadioGroupWithHint, options)}
  </Story>
</Preview>

### With optional field marker

<Preview>
  <Story
    name="Optional field"
    parameters={{ docs: { source: { code: templateRadioGroupOptional.raw } } }}
  >
    {(_, options) => translate(templateRadioGroupOptional, options)}
  </Story>
</Preview>

### With error message

Error messages are used to highlight where users need to change information. They’re used together with an [error summary](/design-system/styleguide/forms/components-error-summary--page?path=/docs/forms-error-summary--example) 

<Preview>
  <Story
    name="With error"
    parameters={{ docs: { source: { code: templateRadioGroupWithError.raw } } }}
  >
    {(_, options) => translate(templateRadioGroupWithError, options)}
  </Story>
</Preview>

## Small radios

Use standard radios in almost all cases. Use small radios to make them less visually prominent or on pages with lots of dense information, such as caseworking software. Small radios can be stacked or inline. 

<Preview>
  <Story
    name="Small"
    parameters={{ docs: { source: { code: templateRadioGroupSmall.raw } } }}
  >
    {(_, options) => translate(templateRadioGroupSmall, options)}
  </Story>
</Preview>

## Implementation 

You must always have a label associated with the input element.   

The components we provide use wrap radio groups in a fieldset. In this context the 'label' is typically the fieldset legend, as every radio option is a label + input in its own right.

## Haml template options

The Haml partial takes a `radio` hash with the following properties:

| properties      | Description                                                 |
| --------------- | ----------------------------------------------------------- |
| `name`          | Required, field name                                        |
| `label`         | Required, label text                                        |
| `options`       | Reqiuired, an array of hashes, each with the following:     |
| `option[name]`  | &rarr; Required, name for the option                        |
| `option[value]` | &rarr; Required, value for the option                       |
| `hint`          | Optional, hint text                                         |
| `optional`      | Optional, boolean flag to mark the field as optional        |
| `error_message` | Optional, error message for the field                       |
| `has_error`     | Optional, boolean flag to mark the field as having an error |
| `inline`        | Optional, boolean flag to display radio buttons inline      |
| `small`         | Optional, boolean flag to display radio in small style      |
