import { Meta, Story, Preview, Source } from '@storybook/addon-docs/blocks';
import initOISCWarnings from '../../../src/js/oisc-warnings';

<Meta
  title="Components/OISC Warning"
  component={() => templateDefault}
  decorators={[
    (Story) => {
      setTimeout(() => initOISCWarnings());
      return `<div style="max-width: 800px">${Story()}</div>`;
    },
  ]}
/>

# The Office of the Immigration Services Commissioner (OISC) warnings

OISC warnings show advisers what regulations apply to specific content.

- Content designers can input free text into the heading fields
- Content designers can input free text and links into the paragraph fields
- Adding content to the paragraph is optional

## Variant: With title and description

- Content designers can input free text into the heading fields
- Content designers can input free text and links into the paragraph fields

import templateDefault from './_default.html.haml';
import templateDefaultCode from '!!raw-loader!./_default.html.haml';

<Preview>
  <Story
    name="With title and description"
    parameters={{ docs: { source: { code: templateDefaultCode } } }}
  >
    {() => templateDefault}
  </Story>
</Preview>

## Variant: Title only

Descriptions are optional. An OISC warning can be shown with just a title.

import templateTitleOnly from './_title-only.html.haml';
import templateTitleOnlyCode from '!!raw-loader!./_title-only.html.haml';

<Preview>
  <Story
    name="Title only"
    parameters={{ docs: { source: { code: templateTitleOnlyCode } } }}
  >
    {() => templateTitleOnly}
  </Story>
</Preview>

## Variant: Sticky and dismissible

This component accepts an optional `isSticky` setting. If enabled the warning will be sticky when scrolling and can be dismissed.

import templateSticky from './_sticky.html.haml';
import templateStickyCode from '!!raw-loader!./_sticky-example.html.haml';

<Preview>
  <Story
    name="Sticky"
    inline={false}
    height={'500px'}
    parameters={{ docs: { source: { code: templateStickyCode } } }}
  >
    {() => templateSticky}
  </Story>
</Preview>

## Haml template options

The Haml partial takes the following properties:

| properties    | Description                                               |
| ------------- | --------------------------------------------------------- |
| `title`       | Required                                                  |
| `description` | Optional description                                      |
| `isSticky`    | Flag if the warning should be sticky, defaults to `false` |

For example:

<Source dark="true" lang="haml" code={templateDefaultCode} />
