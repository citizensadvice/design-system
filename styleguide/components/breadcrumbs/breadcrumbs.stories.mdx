import { Meta, Story, Preview, Source } from '@storybook/addon-docs/blocks';
import { translate } from '../../../scripts/story-helpers';

import templateDefault from './_default.html.haml';
import templateNoCollapse from './_no-collapse.html.haml';

<Meta
  title="Components/Breadcrumbs"
  decorators={[(Story) => `<div style="max-width: 800px">${Story()}</div>`]}
/>

# Breadcrumbs

Breadcrumbs are used at the top of pages to provide navigation and location context. There are two variants.

The breadcrumbs component should be used outside of the grid, at the same levels as headers and site navigation.

## Default (collapse)

By default they will collapse to the parent page on mobile. You can explicity set this behaviour by passing in
`collaspe` as the type.

<Preview>
  <Story
    name="Breadcrumbs (default)"
    parameters={{ docs: { source: { code: templateDefault.raw } } }}
  >
    {(_, options) => translate(templateDefault, options)}
  </Story>
</Preview>

## No collapse

You can prevent the default collapse behaviour on mobile when you don't want this to happen, eg in search results.

<Preview>
  <Story
    name="Breadcrumbs (No collapse)"
    parameters={{ docs: { source: { code: templateNoCollapse.raw } } }}
  >
    {(_, options) => translate(templateNoCollapse, options)}
  </Story>
</Preview>

## In a search result

When shown in a search result, the breadcumbs do not show the home page and do not have a horizontal rule underneath.

## Haml template options

The Haml partial takes a `breadcrumb` hash, which has the following properties:

| Property           | Description                                            |
| ------------------ | ------------------------------------------------------ |
| `type`             | Optional, one of: `collapse` (default), `no-collapse`  |
| `breadcrumb_links` | Required, an array of hashes, each with the following: |
| `link[url]`        | &rarr; Required, url for the breadcrumb link           |
| `link[title]`      | &rarr; Required, title for the breadcrumb link         |

For example:

<Source dark="true" language="haml" code={templateNoCollapse.raw} />
