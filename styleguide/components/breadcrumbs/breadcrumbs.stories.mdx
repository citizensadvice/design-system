import { Meta, Story, Preview, Source } from '@storybook/addon-docs/blocks';
import templateDefault from './_default.html.haml';
import templateDefaultCode from '!!raw-loader!./_default.html.haml';
import templateNoCollapse from './_no-collapse.html.haml';
import templateNoCollapseCode from '!!raw-loader!./_no-collapse.html.haml';

<Meta
  title="Components/Breadcrumbs"
  component={() => templateDefault}
  decorators={[(Story) => `<div style="max-width: 800px">${Story()}</div>`]}
/>

# Breadcrumbs

Breadcrumbs are used at the top of pages to provide navigation and location context. There are two variants.

## Default (collapse)

By default they will collapse to the parent page on mobile. You can explicity set this behaviour by passing in
`collaspe` as the type.

<Preview>
  <Story
    name="Breadcrumbs (default)"
    parameters={{ docs: { source: { code: templateDefaultCode } } }}
  >
    {() => templateDefault}
  </Story>
</Preview>

## No collapse

You can prevent the default collapse behaviour on mobile when you don't want this to happen, eg in search results.

<Preview>
  <Story
    name="Breadcrumbs (No collapse)"
    parameters={{ docs: { source: { code: templateNoCollapseCode } } }}
  >
    {() => templateDefault}
  </Story>
</Preview>

## In a search result

When shown in a search result, the breadcumbs do not show the home page and do not have a horizontal rule underneath.

## Haml template options

The Haml partial takes a `breadcrumb_links` hash, which is an array of hashes with the following properties:

| Property | Description                             |
| -------- | --------------------------------------- |
| `url`    | Required, url for the breadcrumb link   |
| `title ` | Required, title for the breadcrumb link |

For example:

<Source dark="true" lang="haml" code={templateDefaultCode} />
