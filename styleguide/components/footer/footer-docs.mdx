import { Meta, Story, Canvas } from '@storybook/addon-docs';

<Meta title="Components/Footer" />

# Footer

<Canvas>
  <Story id="components-footer--default" />
</Canvas>

## Minimal Footer

<Canvas>
  <Story id="components-footer--minimal" />
</Canvas>

## Using with Rails

If you are using the `citizens_advice_components` gem, you can call the component from within a template using:

```rb
render(CitizensAdviceComponents::Footer.new) do |c|
  c.feedback_url(url: "https://example.com", external: true)
  c.column(
    title: "Advice",
    links: [
      { url: "#", title: "Link 1" },
      { url: "#", title: "Link 2" },
      { url: "#", title: "Link 3" }
    ]
  )
  c.column(
    title: "Resources and tools",
    links: [
      { url: "#", title: "Link 1" },
      { url: "#", title: "Link 2" },
      { url: "#", title: "Link 3" }
    ]
  )
  c.column(
    title: "More from us",
    links: [
      { url: "#", title: "Link 1" },
      { url: "#", title: "Link 2" },
      { url: "#", title: "Link 3" }
    ]
  )
  c.column(
    title: "About Citizens Advice",
    links: [
      { url: "#", title: "Link 1" },
      { url: "#", title: "Link 2" },
      { url: "#", title: "Link 3" }
    ]
  )
end
```

### View Component Options

The constructor accepts the following properties

| Property       | Description                                                                                         |
| -------------- | --------------------------------------------------------------------------------------------------- |
| `feedback_url` | **(Deprecated: use feedback_link slot)** If present, a link to this feedback form will be displayed |
| `homepage_url` | Optional, defaults to `/`                                                                           |

#### Feedback link slot

The component accepts a `feedback_link` slot to render an optional feedback link.

The slot accepts the following named arguments:

| Property   | Description                                             |
| ---------- | ------------------------------------------------------- |
| `title`    | Optional, title for the column                          |
| `url`      | Required, feedback URL                                  |
| `external` | Optional. Is this an external link? Defaults to `false` |

#### Column slots

The component accepts up to four `column` slots. These can either be passed on at a time like in the example above, or by iterating through an array e.g.

```rb
render CitizensAdviceComponents::Footer.new do |c|
  c.columns(columns)
end
```

Each slot accepts the following named arguments:

| Property         | Description                                            |
| ---------------- | ------------------------------------------------------ |
| `title`          | Required, title for the column                         |
| `links`          | Required, an array of hashes, each with the following: |
| `link[url]`      | &rarr; Required, url for the link                      |
| `link[title]`    | &rarr; Required, title for the link                    |
| `link[external]` | &rarr; Optional, is this an external link?             |
| `link[new_tab]`  | &rarr; Optional, should this link open in a new tab?   |
