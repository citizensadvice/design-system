import { Story, Preview } from '@storybook/addon-docs/blocks';

# Pagination

## Example

<Preview>
  <Story id="components-pagination--example" />
</Preview>

### Accessibility requirements

- Pagination is wrapped in a `<nav>` with `role="navigation"` and an appropriate `aria-label` e.g. `aria-label="Pagination navigation"`. You may wish to customise this based on the context it is used in, e.g. "Search pagination"
- Each link has an appropriate `aria-label` e.g. "Go to first page", or "Go to page 3".
- The current page has an `aria-label` of `aria-label="Current page, page 5"` with `aria-current="page"`

## Paging info

Supplementary component used alongside pagination to show how many results have been found

<Preview>
  <Story id="components-pagination--paging-info" />
</Preview>

## Using with Rails

If you are using the `citizens_advice_components` gem you call the component from within a template using:

```rb
render(CitizensAdviceComponents::PaginationComponent.new(
  current_params: request.query_parameters,
  num_pages: 100,
  current_page: 100
))
```

## Component arguments

| Argument         | Description                                         |
| ---------------- | --------------------------------------------------- |
| `num_pages`      | Total number of pages of pagination to generate     |
| `current_page`   | The current page number                             |
| `current_params` | Current request query parameters                    |
| `param_name`     | Optional. Pagination param name, defaults to `page` |
