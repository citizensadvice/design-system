<div class="cads-form-field<% if error? %> cads-form-field--has-error<% end %>">
  <% if error? %><div class="cads-form-field__error-marker"></div><% end %>
  <div class="cads-form-field__content">
    <% if page_heading? %>
      <h1 class="cads-page-title">
        <label id="<%= label_id %>" for="<%= input_id %>"><%= label %></label>
      </h1>
    <% else %>
      <label class="cads-form-field__label" id="<%= label_id %>" for="<%= input_id %>">
        <%= label %>
        <% if optional? %>
          <span class="cads-form-field__optional"><%= "(#{t('citizens_advice_components.input.optional')})" %></span>
        <% end %>
      </label>
    <% end %>

    <% if hint? %>
      <p class="cads-form-field__hint" id="<%= hint_id %>" data-testid="hint-message"><%= hint %></p>
    <% end %>
    <% if error? %>
      <p class="cads-form-field__error-message" id="<%= error_id %>" data-testid="error-message">
        <%= error_message %>
      </p>
    <% end %>
    <%= content_tag(:textarea, value, class: ["cads-textarea", ("js-cads-character-count" if character_count?)], **input_attributes) %>
    <% if character_count? %>
      <div id="<%= character_count_id %>" class="cads-character-count js-cads-character-count-fallback">
        <%= t("citizens_advice_components.character_count.fallback", character_count: character_count) %>
      </div>
    <% end %>
  </div>
</div>
